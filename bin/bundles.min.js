#! /usr/bin/env node
const fs=require("fs-extra"),bundle=require("../lib/bundles.min.js"),config=require("minimist")(process.argv.slice(2),{boolean:!0,alias:{config:"C",data:"D",bundlers:"B",run:"R",watch:"W",loglevel:"L",glob:"G",frontMatter:"M",chokidar:"C"}}),objectProps=["glob","frontMatter","chokidar"];objectProps.forEach(o=>{config[o]&&(config[o]=JSON.parse(config[o]))}),config.data&&fs.pathExistsSync(config.data)&&(config.data=require(config.data)),bundle(config.config||{input:config._,bundlers:config.bundlers,data:config.data},config);